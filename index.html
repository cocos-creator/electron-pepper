<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Hello</title>

    <script type="text/javascript">

    /** An array of messages to display in the element with id "log". */
  var logMessageArray = [];

  /**
   * Add a message to an element with id "log".
   *
   * This function is used by the default "log:" message handler.
   *
   * @param {string} message The message to log.
   */
  function logMessage(message) {
    logMessageArray.push(message);
    if (logMessageArray.length > 20)
      logMessageArray.shift();

    document.getElementById('log').textContent = logMessageArray.join('\n');
    console.log(message);
  }

    function handleMessage(event) {
      logMessage(event.data);
    }

  </script>

  </head>
  <body>

    <embed width="200" height="200"
        id="input"
        style="bgcolor:gray"
        type="application/x-input_event">

        <script type="text/javascript">
            var input = document.getElementById('input');
            input.addEventListener('message', handleMessage, true);
            input.style.backgroundColor = 'gray';
        </script>

    </embed>
   
  <p>This example shows how to handle input events.</p>
  <p>Click or touch the box to the left to see the events being sent to the
     NaCl module. When it has focus, the module will also accept keyboard
     events.</p>

  <h2 style="clear: left">Events:</h2>
  <pre id="log" style="font-weight: bold"></pre>

  </body>
</html>
